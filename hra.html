<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E.T. Barrr | Vesmírná Sabotáž</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
        
        html, body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: #000000;
            color: #e8e8e8;
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
            margin: 0;
            padding: 0;
        }
        
        *, *::before, *::after {
            box-sizing: border-box;
        }
        
        .container {
            width: 100%;
            max-width: 100vw;
            padding-left: 1rem;
            padding-right: 1rem;
        }
        
        .stars-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 0;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle linear infinite;
            z-index: 1;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .holographic-text {
            background: linear-gradient(90deg, #7CFC00, #00FFFF, #FF00FF);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 8px rgba(124, 252, 0, 0.3);
        }
        
        .neon-border {
            border: 1px solid rgba(124, 252, 0, 0.3);
            box-shadow: 0 0 10px rgba(124, 252, 0, 0.5), inset 0 0 10px rgba(124, 252, 0, 0.3);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 15px rgba(124, 252, 0, 0.7);
            transition: all 0.3s ease;
        }
        
        .nav-scrolled {
            background: rgba(0, 0, 0, 0.95) !important;
            backdrop-filter: blur(20px) !important;
            border-bottom: 1px solid rgba(124, 252, 0, 0.4) !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
        }

        .nav-link {
            position: relative;
            padding: 0.75rem 1.25rem;
            border-radius: 2rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(124, 252, 0, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .nav-link:hover::before {
            left: 100%;
        }

        .nav-link:hover {
            color: #7CFC00 !important;
            background: rgba(124, 252, 0, 0.1);
            box-shadow: 0 0 20px rgba(124, 252, 0, 0.3);
            transform: translateY(-2px);
        }

        .nav-link.active {
            background: rgba(124, 252, 0, 0.15);
            color: #7CFC00 !important;
            box-shadow: 0 0 15px rgba(124, 252, 0, 0.4);
        }

        .mobile-menu {
            background: rgba(0, 0, 0, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 1.5rem;
            border: 1px solid rgba(124, 252, 0, 0.2);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            transform: translateY(-10px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .mobile-menu.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-link {
            position: relative;
            padding: 1rem 1.5rem;
            margin: 0.5rem;
            border-radius: 1rem;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .mobile-nav-link:hover {
            background: rgba(124, 252, 0, 0.1);
            border-color: rgba(124, 252, 0, 0.3);
            color: #7CFC00 !important;
            transform: translateX(10px);
        }

        .logo-container {
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            background: rgba(124, 252, 0, 0.05);
            border: 1px solid rgba(124, 252, 0, 0.2);
            transition: all 0.4s ease;
        }

        .logo-container:hover {
            background: rgba(124, 252, 0, 0.1);
            box-shadow: 0 0 25px rgba(124, 252, 0, 0.4);
            transform: scale(1.05);
        }

        .menu-toggle {
            position: relative;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            background: rgba(124, 252, 0, 0.1);
            border: 1px solid rgba(124, 252, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .menu-toggle:hover {
            background: rgba(124, 252, 0, 0.2);
            box-shadow: 0 0 20px rgba(124, 252, 0, 0.4);
            transform: rotate(90deg);
        }
        
        .section-dark {
            background: rgba(0, 0, 0, 0.8);
        }
        
        .hologram {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(124,252,0,0.2) 0%, rgba(0,255,255,0.1) 50%, rgba(255,0,255,0) 100%);
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
        }
        
        .page-content {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
        }
        
        .page-title {
            font-size: 3rem;
            margin-bottom: 2rem;
        }
        
        .page-description {
            font-size: 1.2rem;
            max-width: 600px;
            margin-bottom: 2rem;
            color: #aaa;
        }
        
        @media (max-width: 640px) {
            .page-title {
                font-size: 2rem;
            }
            
            .page-description {
                font-size: 1rem;
            }

            .page-content {
                padding: 0.5rem;
            }
        }

.story-adventure-container {
    position: relative;
}

.mission-status {
    backdrop-filter: blur(10px);
}

.status-indicator {
    width: 12px;
    height: 12px;
    background: #7CFC00;
    border-radius: 50%;
    animation: pulse-status 2s infinite;
}

@keyframes pulse-status {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.1); }
}

.progress-bar {
    width: 100px;
    height: 4px;
    background: rgba(124, 252, 0, 0.2);
    border-radius: 2px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #7CFC00, #00FFFF);
    width: 8.33%;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(124, 252, 0, 0.6);
}

.story-step {
    display: none;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
}

.story-step.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

.story-screen {
    background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 20, 0.8));
    border: 2px solid rgba(124, 252, 0, 0.3);
    border-radius: 20px;
    padding: 2rem;
    backdrop-filter: blur(15px);
    box-shadow: 0 0 30px rgba(124, 252, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.story-screen::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #7CFC00, transparent);
    animation: scan-line 4s infinite;
}

@keyframes scan-line {
    0%, 100% { left: -100%; opacity: 0; }
    50% { left: 100%; opacity: 1; }
}

.screen-header {
    text-align: center;
    margin-bottom: 2rem;
    border-bottom: 1px solid rgba(124, 252, 0, 0.3);
    padding-bottom: 1rem;
}

.story-title {
    color: #7CFC00;
    font-size: 1.5rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    letter-spacing: 2px;
}

.story-content {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
    margin-bottom: 2rem;
    align-items: center;
}

.hologram-display {
    font-size: 4rem;
    text-align: center;
    padding: 2rem;
    background: radial-gradient(circle, rgba(124, 252, 0, 0.2), transparent);
    border-radius: 50%;
    animation: hologram-float 3s ease-in-out infinite;
}

.hologram-display.success {
    color: #7CFC00;
    animation: success-pulse 2s ease infinite;
}

@keyframes hologram-float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(5deg); }
    66% { transform: translateY(5px) rotate(-5deg); }
}

@keyframes success-pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.story-text {
    color: #e8e8e8;
    line-height: 1.6;
}

.story-text p {
    margin-bottom: 1rem;
}

.alien-dialogue {
    background: rgba(124, 252, 0, 0.1);
    border-left: 3px solid #7CFC00;
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 10px 10px 0;
}

.dialogue-speaker {
    color: #7CFC00;
    font-weight: bold;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.dialogue-text {
    color: #ffffff;
    font-style: italic;
}

.menu-preview {
    background: rgba(0, 0, 0, 0.6);
    padding: 1rem;
    border-radius: 10px;
    margin: 1rem 0;
    border: 1px solid rgba(124, 252, 0, 0.3);
}

.menu-item-preview {
    color: #00FFFF;
    margin: 0.5rem 0;
    font-family: 'Courier New', monospace;
}

.story-choices {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.choice-btn {
    display: flex;
    align-items: center;
    padding: 1rem 1.5rem;
    border-radius: 15px;
    font-weight: bold;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.choice-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.6s ease;
}

.choice-btn:hover::before {
    left: 100%;
}

.choice-btn.primary {
    background: linear-gradient(135deg, rgba(124, 252, 0, 0.2), rgba(124, 252, 0, 0.1));
    border: 2px solid #7CFC00;
    color: #7CFC00;
}

.choice-btn.primary:hover {
    background: #7CFC00;
    color: black;
    box-shadow: 0 0 20px rgba(124, 252, 0, 0.6);
    transform: translateY(-2px);
}

.choice-btn.secondary {
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.1));
    border: 2px solid #00FFFF;
    color: #00FFFF;
}

.choice-btn.secondary:hover {
    background: #00FFFF;
    color: black;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
    transform: translateY(-2px);
}

.choice-btn.tertiary {
    background: linear-gradient(135deg, rgba(255, 0, 255, 0.2), rgba(255, 0, 255, 0.1));
    border: 2px solid #FF00FF;
    color: #FF00FF;
}

.choice-btn.tertiary:hover {
    background: #FF00FF;
    color: black;
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.6);
    transform: translateY(-2px);
}

.choice-icon {
    margin-right: 0.5rem;
    width: 20px;
    height: 20px;
}

.mission-summary {
    background: rgba(124, 252, 0, 0.1);
    padding: 1rem;
    border-radius: 10px;
    margin: 1rem 0;
    border: 1px solid rgba(124, 252, 0, 0.3);
}

@media (max-width: 768px) {
    .story-content {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .hologram-display {
        font-size: 3rem;
        padding: 1rem;
    }
    
    .story-screen {
        padding: 1rem;
    }
    
    .mission-status {
        padding: 1rem;
    }
    
    .mission-status .flex {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
}

.menu-category {
    margin-bottom: 2rem;
}

.menu-category h4 {
    color: #00FFFF;
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.menu-items-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.menu-item-full {
    color: #e8e8e8;
    padding: 0.5rem;
    background: rgba(124, 252, 0, 0.1);
    border-radius: 8px;
    font-family: 'Courier New', monospace;
}

.emergency-alert {
    animation: emergency-pulse 1s infinite;
    border-color: #ff3333 !important;
}

@keyframes emergency-pulse {
    0%, 100% { box-shadow: 0 0 10px rgba(255, 51, 51, 0.5); }
    50% { box-shadow: 0 0 20px rgba(255, 51, 51, 0.8); }
}

.warning-text {
    color: #ff3333;
    font-weight: bold;
}

.energy-bar {
    width: 100%;
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
    margin: 10px 0;
    overflow: hidden;
}

.energy-fill {
    height: 100%;
    background: linear-gradient(90deg, #7CFC00, #00FFFF);
    width: 100%;
    transition: width 0.5s ease;
}
    </style>
</head>
<body class="relative">
    <!-- Hvězdné pozadí -->
    <div id="stars-background" class="stars-background"></div>
    
    <!-- Floating Holograms -->
    <div class="hologram" style="top:20%; left:10%;"></div>
    <div class="hologram" style="top:70%; left:80%;"></div>
    <div class="hologram" style="top:40%; left:30%;"></div>
    
    <!-- Enhanced Navigation -->
    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-60 backdrop-blur-md border-b border-green-400 border-opacity-20 transition-all duration-300">
        <div class="container mx-auto px-4 sm:px-6 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo with enhanced styling -->
                <a href="index.html" class="logo-container">
                    <span class="text-xl sm:text-2xl font-bold holographic-text">E.T. Barrr</span>
                </a>
                
                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-2">
                    <a href="index.html" class="nav-link text-gray-300 text-sm font-medium">Domů</a>
                    <a href="menu.html" class="nav-link text-gray-300 text-sm font-medium">Menu</a>
                    <a href="#" class="nav-link text-gray-300 text-sm font-medium">Galerie</a>
                    <a href="#" class="nav-link text-gray-300 text-sm font-medium">Glamping</a>
                    <a href="#" class="nav-link text-gray-300 text-sm font-medium">Kontakt</a>
                    <a href="hra.html" class="nav-link active text-sm font-medium">Hra</a>
                </div>
                      
                <!-- Mobile Menu Toggle -->
                <button id="mobile-menu-btn" class="lg:hidden menu-toggle">
                    <i data-feather="menu" class="w-5 h-5 text-green-400"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu lg:hidden absolute top-full left-4 right-4 mt-4 p-6">
            <div class="flex flex-col space-y-2">
                <a href="index.html" class="mobile-nav-link text-gray-300">
                    <i data-feather="home" class="w-4 h-4 inline mr-3"></i>
                    Domů
                </a>
                <a href="menu.html" class="mobile-nav-link text-gray-300">
                    <i data-feather="coffee" class="w-4 h-4 inline mr-3"></i>
                    Menu
                </a>
                <a href="#" class="mobile-nav-link text-gray-300">
                    <i data-feather="image" class="w-4 h-4 inline mr-3"></i>
                    Galerie
                </a>
                <a href="#" class="mobile-nav-link text-gray-300">
                    <i data-feather="moon" class="w-4 h-4 inline mr-3"></i>
                    Glamping
                </a>
                <a href="#" class="mobile-nav-link text-gray-300">
                    <i data-feather="mail" class="w-4 h-4 inline mr-3"></i>
                    Kontakt
                </a>
                <a href="hra.html" class="mobile-nav-link text-green-400 font-medium">
                    <i data-feather="play" class="w-4 h-4 inline mr-3"></i>
                    Hra
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Hlavní obsah stránky -->
    <main class="page-content relative z-10 pt-20">
        
        
        <!-- Interactive Story Adventure Section -->
        <section class="section-dark py-16 sm:py-20 relative z-10 w-full">
            <div class="container mx-auto px-4 sm:px-6">
                <h2 class="text-3xl sm:text-4xl font-bold text-center mb-12 sm:mb-16">
                    <span class="holographic-text">Mise: Záchrana stanice</span>
                </h2>
                
                <!-- Story Container -->
                <div class="story-adventure-container max-w-4xl mx-auto">
                    
                    <!-- Mission Status Display -->
                    <div class="mission-status mb-8 p-4 bg-gray-900 bg-opacity-60 rounded-2xl border border-green-400 border-opacity-30">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center space-x-4">
                                <div class="status-indicator"></div>
                                <span class="text-green-400 font-bold" id="mission-status">STATUS: PŘISTÁVÁNÍ ZAHÁJENO</span>
                            </div>
                            <div class="mission-progress">
                                <span class="text-gray-400 text-sm">Krok <span id="current-step">1</span> z 12</span>
                                <div class="progress-bar mt-1">
                                    <div class="progress-fill" id="progress-fill"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Story Steps Container -->
                    <div class="story-steps">
                        
                        <!-- Step 0: Úvod -->
                        <div class="story-step active" id="step-0">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">VESMÍRNÁ STANICE E.T. BARRR</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🛸</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Vaše loď Aurora se blíží k vesmírné stanici E.T. Barrr. Všechno vypadá v pořádku – štíty svítí, komunikace je čistá.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text">"Vítej, pilote Auroro. Dokovací procedura zahájena."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(1)">
                                        <i data-feather="navigation" class="choice-icon"></i>
                                        Aktivovat dokování
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 1: Havárie -->
                        <div class="story-step" id="step-1">
                            <div class="story-screen emergency-alert">
                                <div class="screen-header">
                                    <h3 class="story-title warning-text">VAROVÁNÍ: ENERGETICKÁ KRIZE</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🚨</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Jakmile přistaneš, uvítá tě robotický průvodce C-4FF33. Vypadá to jako běžná návštěva – jenže najednou bliknou světla, ozve se alarm a celá stanice přejde do nouzového režimu.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text warning-text">"Varování. Energetická síť poškozena. Sektor Delta v kritickém stavu. Vyžaduji okamžitý zásah."</div>
                                        </div>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 C-4FF33</div>
                                            <div class="dialogue-text">"Ehm... tohle není součást běžné uvítací procedury. Doporučuji jednat rychle – než stanice exploduje."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(2)">
                                        <i data-feather="cpu" class="choice-icon"></i>
                                        Jít do velína
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(3)">
                                        <i data-feather="coffee" class="choice-icon"></i>
                                        Jít do kavárny
                                    </button>
                                    <button class="choice-btn tertiary" onclick="nextStep(4)">
                                        <i data-feather="settings" class="choice-icon"></i>
                                        Jít rovnou do strojovny
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 2: Velín -->
                        <div class="story-step" id="step-2">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">VELÍN STANICE</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">📊</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Ve velínu zjišťuješ rozsah poškození. Energetická síť je vážně poškozena. Na obrazovkách vidíš, že k výpadku došlo nedaleko reaktorové místnosti.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text">"Detekováno rušení v bezpečnostních systémech. Možná sabotáž. Doporučuji vyšetřit oblast reaktoru."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(5)">
                                        <i data-feather="shield" class="choice-icon"></i>
                                        Jít k reaktoru
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(3)">
                                        <i data-feather="coffee" class="choice-icon"></i>
                                        Nejdřív se posilnit v kavárně
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 3: Kavárna -->
                        <div class="story-step" id="step-3">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">MIMOZEMSKÁ KAVÁRNA</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">☕</div>
                                    </div>
                                    <div class="story-text">
                                        <p>V kavárně tě přivítá android-barista, i když systém bliká červeně.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 BARISTA</div>
                                            <div class="dialogue-text">"Přísun kávy je dočasně omezený, ale zvládneme to. Viděl jsem před chvílí někoho u reaktorů – vypadal nervózně."</div>
                                        </div>
                                        <div class="menu-preview">
                                            <div class="menu-item-preview">⚡ Energetický nápoj - +20% energie</div>
                                            <div class="menu-item-preview">🔋 Kofeinový booster - +30% energie</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="orderDrink('energetický nápoj')">
                                        <i data-feather="zap" class="choice-icon"></i>
                                        Objednat energetický nápoj
                                    </button>
                                    <button class="choice-btn secondary" onclick="orderDrink('kofeinový booster')">
                                        <i data-feather="battery" class="choice-icon"></i>
                                        Objednat kofeinový booster
                                    </button>
                                    <button class="choice-btn tertiary" onclick="nextStep(5)">
                                        <i data-feather="skip-forward" class="choice-icon"></i>
                                        Pokračovat k reaktoru
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 4: Strojovna -->
                        <div class="story-step" id="step-4">
                            <div class="story-screen emergency-alert">
                                <div class="screen-header">
                                    <h3 class="story-title">STROJOVNA</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">⚙️</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Přicházíš přímo do strojovny. Vidíš poškozené energetické vedení a cizí zařízení, které bylo připojeno k hlavnímu reaktoru.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text warning-text">"Varování: Cizí zařízení detekováno. Energetická síť destabilizována. Do výbuchu zbývá 10 minut."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(8)">
                                        <i data-feather="alert-triangle" class="choice-icon"></i>
                                        Pokusit se zařízení deaktivovat
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(6)">
                                        <i data-feather="users" class="choice-icon"></i>
                                        Požádat o pomoc v glampingu
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 5: Reaktor - Sabotér -->
                        <div class="story-step" id="step-5">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">REAKTOROVÁ MÍSTNOST</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🔧</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Konečně dorazíš do reaktorové sekce. A tam narazíš na sabotéra – bývalého inženýra stanice.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">👤 SABOTÉR</div>
                                            <div class="dialogue-text">"Nemáš ponětí, co se tady děje. Experiment, který chtějí spustit, může zničit celé okolní systémy! Já se to snažím zastavit."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(9)">
                                        <i data-feather="thumbs-up" class="choice-icon"></i>
                                        Pomoci sabotérovi
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(10)">
                                        <i data-feather="thumbs-down" class="choice-icon"></i>
                                        Zastavit sabotéra
                                    </button>
                                    <button class="choice-btn tertiary" onclick="nextStep(11)">
                                        <i data-feather="heart" class="choice-icon"></i>
                                        Vyjednat kompromis
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Glamping -->
                        <div class="story-step" id="step-6">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">GLAMPINGOVÉ MODULY</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🏕️</div>
                                    </div>
                                    <div class="story-text">
                                        <p>V průhledných kupolích je shromážděná posádka. Velitel stanice tě upozorní:</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">👨‍💼 VELITEL</div>
                                            <div class="dialogue-text">"Myslím, že AI lže. Něco tají – sabotáže začaly až po jejím posledním update."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(5)">
                                        <i data-feather="alert-octagon" class="choice-icon"></i>
                                        Důvěřovat veliteli a částečně vypnout AI
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(5)">
                                        <i data-feather="cpu" class="choice-icon"></i>
                                        Důvěřovat AI a ignorovat varování
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 7: Vodní atrakce -->
                        <div class="story-step" id="step-7">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">VODNÍ ATRAKCE</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🌊</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Opravuješ čerpadlo vodní skluzavky. Po chvíli se ti podaří systém znovu spustit.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 C-4FF33</div>
                                            <div class="dialogue-text">"Skvělá práce! Jako odměnu jsi odemkl chladicí modul, který bude potřeba k restartu reaktoru."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(5)">
                                        <i data-feather="arrow-right" class="choice-icon"></i>
                                        Pokračovat k reaktoru
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 8: Pokus o deaktivaci -->
                        <div class="story-step" id="step-8">
                            <div class="story-screen emergency-alert">
                                <div class="screen-header">
                                    <h3 class="story-title">POKUS O DEAKTIVACI</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🔌</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Pokoušíš se deaktivovat cizí zařízení, ale je to složitější, než jsi čekal.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text warning-text">"Varování: Nestabilita reaktoru roste. Do výbuchu zbývá 7 minut."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="nextStep(9)">
                                        <i data-feather="tool" class="choice-icon"></i>
                                        Pokusit se zařízení fyzicky odstranit
                                    </button>
                                    <button class="choice-btn secondary" onclick="nextStep(6)">
                                        <i data-feather="users" class="choice-icon"></i>
                                        Požádat o pomoc v glampingu
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 9: Pomoc sabotérovi -->
                        <div class="story-step" id="step-9">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">POMOC SABOTÉROVI</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">🤝</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Rozhodl jsi se pomoci sabotérovi. Společně vypínáte stanici, abyste zabránili nebezpečnému experimentu.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">👤 SABOTÉR</div>
                                            <div class="dialogue-text">"Děkuji. Zachránil jsi nespočet životů v okolních systémech. Bohužel posádka zůstane uvězněná, dokud nenajdeme bezpečné řešení."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="completeMission('dark')">
                                        <i data-feather="check-circle" class="choice-icon"></i>
                                        Dokončit misi (temný konec)
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 10: Zastavení sabotéra -->
                        <div class="story-step" id="step-10">
                            <div class="story-screen emergency-alert">
                                <div class="screen-header">
                                    <h3 class="story-title">ZASTAVENÍ SABOTÁŽE</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">⚡</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Rozhodl jsi se zastavit sabotéra. Vložil jsi chladicí modul a spustil restart reaktoru.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text">"Restart reaktoru úspěšný. Stabilizace systému probíhá. Stanice byla zachráněna."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="completeMission('heroic')">
                                        <i data-feather="check-circle" class="choice-icon"></i>
                                        Dokončit misi (hrdinský konec)
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 11: Vyjednávání kompromisu -->
                        <div class="story-step" id="step-11">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">VYJEDNÁVÁNÍ KOMPROMISU</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display">☮️</div>
                                    </div>
                                    <div class="story-text">
                                        <p>Podařilo se ti přesvědčit AI, aby experiment odložila a umožnila bezpečný restart.</p>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">🤖 AI BARRR</div>
                                            <div class="dialogue-text">"Experiment byl odložen. Začínám bezpečný restart systému. Děkuji za rozvážnost."</div>
                                        </div>
                                        <div class="alien-dialogue">
                                            <div class="dialogue-speaker">👤 SABOTÉR</div>
                                            <div class="dialogue-text">"Možná jsi měl pravdu. Někdy je lepší hledat střední cestu."</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn primary" onclick="completeMission('neutral')">
                                        <i data-feather="check-circle" class="choice-icon"></i>
                                        Dokončit misi (neutrální konec)
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step Final: Konec mise -->
                        <div class="story-step" id="step-final">
                            <div class="story-screen">
                                <div class="screen-header">
                                    <h3 class="story-title">MISE DOKONČENA</h3>
                                </div>
                                <div class="story-content">
                                    <div class="story-image">
                                        <div class="hologram-display success">✅</div>
                                    </div>
                                    <div class="story-text">
                                        <p id="final-message"></p>
                                        <div class="mission-summary" id="mission-summary">
                                            <!-- Zde se zobrazí souhrn voleb -->
                                        </div>
                                    </div>
                                </div>
                                <div class="story-choices">
                                    <button class="choice-btn secondary" onclick="restartMission()">
                                        <i data-feather="refresh-cw" class="choice-icon"></i>
                                        Začít misi znovu
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </section>
        
    </main>
    
    <!-- Footer - TMAVÁ -->
    <footer class="section-dark py-12 relative z-10 border-t border-gray-800 mt-auto">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 sm:gap-10">
                <div class="sm:col-span-2 md:col-span-1">
                    <h3 class="text-2xl font-bold mb-6 holographic-text">E.T. Barrr</h3>
                    <p class="text-gray-400">
                        Glampingová kavárna v srdci Obřan.
                    </p>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4 text-green-400">Otevírací doba</h4>
                    <div id="opening-hours" class="space-y-2">
                        <!-- Opening hours will be populated by JavaScript -->
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4 text-green-400">Kontakt</h4>
                    <ul class="space-y-2 text-gray-400 text-base">
                        <li class="flex items-center">
                            <i data-feather="map-pin" class="mr-2 w-4 h-4 flex-shrink-0"></i>
                            <span>Obřany</span>
                        </li>
                        <li class="flex items-center">
                            <i data-feather="phone" class="mr-2 w-4 h-4 flex-shrink-0"></i>
                            <span>+420 123 456 789</span>
                        </li>
                        <li class="flex items-center">
                            <i data-feather="mail" class="mr-2 w-4 h-4 flex-shrink-0"></i>
                            <span>info@etbarrr.cz</span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4 text-green-400">Sledujte nás</h4>
                    <div class="flex flex-row flex-wrap gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-blue-600 hover:text-white transition-all duration-300 transform hover:scale-110">
                            <i data-feather="facebook" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-gradient-to-br hover:from-purple-600 hover:via-pink-600 hover:to-yellow-500 hover:text-white transition-all duration-300 transform hover:scale-110">
                            <i data-feather="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-sky-400 hover:text-white transition-all duration-300 transform hover:scale-110">
                            <i data-feather="twitter" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm mb-4 md:mb-0">
                    © 2025 E.T. Barrr. Všechna práva vyhrazena.
                </p>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script>
    // Initialize Feather Icons
    feather.replace();
    
    // Vytvoření hvězdného pozadí
    function createStars() {
        const starsContainer = document.getElementById('stars-background');
        const starsCount = 250;
        
        for (let i = 0; i < starsCount; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            
            // Náhodná velikost (1-3px)
            const size = Math.random() * 2 + 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            
            // Náhodná pozice
            star.style.left = `${Math.random() * 100}%`;
            star.style.top = `${Math.random() * 100}%`;
            
            // Náhodná doba animace (2-5s)
            const duration = Math.random() * 3 + 2;
            star.style.animationDuration = `${duration}s`;
            
            // Náhodné zpoždění animace
            const delay = Math.random() * 5;
            star.style.animationDelay = `${delay}s`;
            
            starsContainer.appendChild(star);
        }
    }
    
    // Enhanced Navigation Scripts
    const navbar = document.getElementById('navbar');
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const navLinks = document.querySelectorAll('.nav-link');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

    // Scroll effect for navbar
    window.addEventListener('scroll', function() {
        if (window.scrollY > 100) {
            navbar.classList.add('nav-scrolled');
        } else {
            navbar.classList.remove('nav-scrolled');
        }
    });

    // Mobile menu toggle
    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', function() {
            mobileMenu.classList.toggle('active');
            const icon = mobileMenuBtn.querySelector('i');
            if (mobileMenu.classList.contains('active')) {
                icon.setAttribute('data-feather', 'x');
            } else {
                icon.setAttribute('data-feather', 'menu');
            }
            feather.replace();
        });
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(e) {
        if (!navbar.contains(e.target)) {
            mobileMenu.classList.remove('active');
            const icon = mobileMenuBtn.querySelector('i');
            icon.setAttribute('data-feather', 'menu');
            feather.replace();
        }
    });

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // Pokud href není #, nechme přesměrování fungovat
            if (this.getAttribute('href') === '#') {
                e.preventDefault(); // jen blokujeme prázdné odkazy
            }

            navLinks.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
        });
    });

    mobileNavLinks.forEach(link => {
        link.addEventListener('click', function() {
            mobileMenu.classList.remove('active');
            const icon = mobileMenuBtn.querySelector('i');
            icon.setAttribute('data-feather', 'menu');
            feather.replace();
        });
    });
    
    // Opening hours functionality
    const openingHours = {
        1: "9:00 - 20:00", // Po-Út
        2: "9:00 - 22:00", // St-Pá
        3: "10:00 - 22:00", // Sobota
        4: "10:00 - 20:00" // Neděle
    };

    const dayNames = {
        1: "Po-Út", 
        2: "St-Pá",
        3: "Sobota",
        4: "Neděle"
    };

    function isCurrentlyClosed(dayKey) {
        const now = new Date();
        const currentTime = now.getHours() * 60 + now.getMinutes(); // čas v minutách
        
        // Získání otevírací doby pro daný den
        const hours = openingHours[dayKey];
        const [openTime, closeTime] = hours.split(' - ');
        
        // Převod na minuty
        const [openHour, openMin] = openTime.split(':').map(Number);
        const [closeHour, closeMin] = closeTime.split(':').map(Number);
        
        const openInMinutes = openHour * 60 + openMin;
        const closeInMinutes = closeHour * 60 + closeMin;
        
        // Kontrola, zda je aktuálně zavřeno
        return currentTime < openInMinutes || currentTime >= closeInMinutes;
    }

    function getCurrentDayKey() {
        const today = new Date().getDay();
        
        if (today === 1 || today === 2) return 1; // Po-Út
        if (today >= 3 && today <= 5) return 2; // St-Pá
        if (today === 6) return 3; // Sobota
        if (today === 0) return 4; // Neděle
        
        return null;
    }

    function displayOpeningHours() {
        const openingHoursElement = document.getElementById('opening-hours');
        const today = new Date().getDay();
        const currentDayKey = getCurrentDayKey();
        
        // Procházíme pouze klíče, které skutečně existují
        for (let day = 1; day <= 4; day++) {
            const dayElement = document.createElement('div');
            
            // Určení, zda je aktuální den
            let isToday = (day === currentDayKey);
            
            // Určení barvy podle stavu
            let colorClass = 'text-gray-400';
            if (isToday) {
                if (isCurrentlyClosed(day)) {
                    colorClass = 'text-red-400 font-semibold'; // Červeně pokud je zavřeno
                } else {
                    colorClass = 'text-green-400 font-semibold'; // Zeleně pokud je otevřeno
                }
            }
            
            dayElement.className = `flex justify-between items-center ${colorClass}`;
            
            dayElement.innerHTML = `
                <span>${dayNames[day]}:</span>
                <span>${openingHours[day]}</span>
            `;
            
            openingHoursElement.appendChild(dayElement);
        }
    }

    // Three.js - Načtení a zobrazení 3D modelu v pozadí
    function init3DViewer() {
        // Kontejner pro model
        const container = document.getElementById('model-container');
        if (!container) return;
        
        // Vytvoření scény, kamery a rendereru
        const scene = new THREE.Scene();
        scene.background = null; // Průhledné pozadí
        
        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        camera.position.z = 5;
        
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);
        
        // Více světla pro lepší viditelnost
        const ambientLight = new THREE.AmbientLight(0x404040, 2);
        scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(1, 1, 1);
        scene.add(directionalLight);
        
        // Načtení modelu
        const gltfLoader = new THREE.GLTFLoader();
        
        // ZDE NAHRADTE CESTU K VAŠEMU SOUBORU GLTF/GLB
        // Pokud máte model v podsložce, upravte cestu
        gltfLoader.load(
            // Cesta k vašemu modelu
            'model/scene.gltf', // Nahraďte skutečnou cestou k vašemu modelu
            
            // Callback při úspěšném načtení
            function (gltf) {
                const model = gltf.scene;
                
                // Zvětšení modelu
                model.scale.set(6, 6, 6); // Velmi velký E.T.
                
                // Změna materiálů pro lepší viditelnost
                model.traverse(function (child) {
                    if (child.isMesh) {
                        // Změna materiálu na světlejší a více kontrastní
                        if (child.material) {
                            // Pokud je materiál hnědý, změníme ho
                            if (child.material.color) {
                                // Změna barvy na světlejší odstín
                                child.material.color.set(0x88aa88); // Světle zeleno-šedá
                            }
                            
                            // Zvýšení jasnosti a lesku
                            child.material.emissive = new THREE.Color(0x333333);
                            child.material.emissiveIntensity = 0.2;
                            child.material.metalness = 0.3;
                            child.material.roughness = 0.6;
                            
                            // Lepší osvětlení
                            child.material.needsUpdate = true;
                        }
                    }
                });
                
                scene.add(model);
                
                // Nastavení pozice a velikosti modelu
                const box = new THREE.Box3().setFromObject(model);
                const center = box.getCenter(new THREE.Vector3());
                const size = box.getSize(new THREE.Vector3());
                
                // Vycentrování modelu
                model.position.x = -center.x;
                model.position.y = -center.y - 1.5; // Posunout níže
                model.position.z = -center.z;
                
                // Nastavení kamery pro větší model
                const maxDim = Math.max(size.x, size.y, size.z);
                const fov = camera.fov * (Math.PI / 180);
                let cameraZ = Math.abs(maxDim / Math.sin(fov / 2));
                
                camera.position.z = cameraZ * 1.1;
                
                // Interakce s myší i dotykem - otáčení modelu podle pozice
                function setupInteractions(model) {
                    // Funkce pro zpracování pohybu
                    function handleMove(clientX, clientY) {
                        // Normalizované souřadnice (-1 to 1)
                        const mouseX = (clientX / window.innerWidth) * 2 - 1;
                        const mouseY = -(clientY / window.innerHeight) * 2 + 1;
                        
                        // Plynulé otáčení modelu podle pozice myši
                        // OPRAVA: Inverze Y osy pro intuitivní pohyb
                        model.rotation.y = mouseX * 0.5;
                        model.rotation.x = -mouseY * 0.3;
                    }

                    // Desktop - myš
                    document.addEventListener('mousemove', (event) => {
                        handleMove(event.clientX, event.clientY);
                    });

                    // Mobile - dotyk
                    document.addEventListener('touchmove', (event) => {
                        // Zabraň výchozímu chování (scrollování)
                        event.preventDefault();
                        
                        // Použij první dotek
                        if (event.touches.length > 0) {
                            handleMove(event.touches[0].clientX, event.touches[0].clientY);
                        }
                    }, { passive: false });
                }
                
                // Nastavení interakcí
                setupInteractions(model);
            },
            
            // Callback během načítání
            function (xhr) {
                console.log((xhr.loaded / xhr.total * 100) + '% loaded');
            },
            
            // Callback při chybě
            function (error) {
                console.error('Error loading model:', error);
                
                // Pokud model nelze načíst, vytvoříme náhradní E.T.
                createFallbackET(scene);
            }
        );
        
        // Funkce pro vytvoření náhradního E.T., pokud se nepodaří načíst model
        function createFallbackET(scene) {
            // Tělo E.T.
            const bodyGeometry = new THREE.SphereGeometry(1, 32, 32);
            const bodyMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x88aa88, 
                emissive: 0x224422,
                shininess: 100
            });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            body.position.y = 0.5;
            scene.add(body);
            
            // Hlava E.T.
            const headGeometry = new THREE.SphereGeometry(0.7, 32, 32);
            const headMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x88aa88, 
                emissive: 0x224422,
                shininess: 100
            });
            const head = new THREE.Mesh(headGeometry, headMaterial);
            head.position.y = 1.8;
            scene.add(head);
            
            // Oči E.T.
            const eyeGeometry = new THREE.SphereGeometry(0.15, 16, 16);
            const eyeMaterial = new THREE.MeshPhongMaterial({ color: 0x0000ff, emissive: 0x0000aa });
            
            const leftEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
            leftEye.position.set(-0.25, 1.9, 0.6);
            scene.add(leftEye);
            
            const rightEye = new THREE.Mesh(eyeGeometry, eyeMaterial);
            rightEye.position.set(0.25, 1.9, 0.6);
            scene.add(rightEye);
            
            // Krk E.T.
            const neckGeometry = new THREE.CylinderGeometry(0.3, 0.4, 0.5, 16);
            const neckMaterial = new THREE.MeshPhongMaterial({ color: 0x88aa88 });
            const neck = new THREE.Mesh(neckGeometry, neckMaterial);
            neck.position.y = 1.3;
            scene.add(neck);
            
            // Zvětšení celého E.T.
            const scale = 2.5;
            body.scale.set(scale, scale, scale);
            head.scale.set(scale, scale, scale);
            neck.scale.set(scale, scale, scale);
            leftEye.scale.set(scale, scale, scale);
            rightEye.scale.set(scale, scale, scale);
            
            // Interakce s myší i dotykem - otáčení modelu podle pozice
            function setupInteractions(head, body) {
                // Funkce pro zpracování pohybu
                function handleMove(clientX, clientY) {
                    // Normalizované souřadnice (-1 to 1)
                    const mouseX = (clientX / window.innerWidth) * 2 - 1;
                    const mouseY = -(clientY / window.innerHeight) * 2 + 1;
                    
                    // Plynulé otáčení modelu podle pozice myši
                    // OPRAVA: Inverze Y osy pro intuitivní pohyb
                    head.rotation.y = mouseX * 0.5;
                    head.rotation.x = -mouseY * 0.3;
                    body.rotation.y = mouseX * 0.3;
                }

                // Desktop - myš
                document.addEventListener('mousemove', (event) => {
                    handleMove(event.clientX, event.clientY);
                });

                // Mobile - dotyk
                document.addEventListener('touchmove', (event) => {
                    // Zabraň výchozímu chování (scrollování)
                    event.preventDefault();
                    
                    // Použij první dotek
                    if (event.touches.length > 0) {
                        handleMove(event.touches[0].clientX, event.touches[0].clientY);
                    }
                }, { passive: false });
            }
            
            // Nastavení interakcí
            setupInteractions(head, body);
        }
        
        // Animace
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        animate();
        
        // Resize handler
        window.addEventListener('resize', function() {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
        createStars();
        displayOpeningHours();
        init3DViewer();
    });
</script>
</body>
</html>